var Org=function(){function e(){}function t(e){this.stream=e,this.tokenStack=[]}function n(e,t){if(this.type=e,this.children=[],t)for(var n=0,i=t.length;i>n;++n)this.appendChild(t[n])}function i(e){this.sequences=e.split(/\r?\n/),this.totalLines=this.sequences.length,this.lineNumber=0}function r(){this.inlineParser=new s}function s(){this.preEmphasis=" 	\\('\"",this.postEmphasis="- 	.,:!?;'\"\\)",this.borderForbidden=" 	\r\n,\"'",this.bodyRegexp="[\\s\\S]*?",this.markers="*/_=~+",this.emphasisPattern=this.buildEmphasisPattern(),this.linkPattern=/\[\[([^\]]*)\](?:\[([^\]]*)\])?\]/g}function o(){}function a(e,t){this.initialize(e,t),this.result=this.convert()}var l={},c={rules:{},define:function(e,t){this.rules[e]=t;var n="is"+e.substring(0,1).toUpperCase()+e.substring(1);this[n]=function(t){return this.rules[e].exec(t)}}};c.define("header",/^(\*+)\s+(.*)$/),c.define("preformatted",/^(\s*):(?: (.*)$|$)/),c.define("unorderedListElement",/^(\s*)(?:-|\+|\s+\*)\s+(.*)$/),c.define("orderedListElement",/^(\s*)(\d+)(?:\.|\))\s+(.*)$/),c.define("tableSeparator",/^(\s*)\|((?:\+|-)*?)\|?$/),c.define("tableRow",/^(\s*)\|(.*?)\|?$/),c.define("blank",/^$/),c.define("horizontalRule",/^(\s*)-{5,}$/),c.define("directive",/^(\s*)#\+(?:(begin|end)_)?(.*)$/i),c.define("comment",/^(\s*)#(.*)$/),c.define("line",/^(\s*)(.*)$/),e.prototype={isListElement:function(){return this.type===t.tokens.orderedListElement||this.type===t.tokens.unorderedListElement},isTableElement:function(){return this.type===t.tokens.tableSeparator||this.type===t.tokens.tableRow}},t.prototype={tokenize:function(n){var i=new e;if(i.fromLineNumber=this.stream.lineNumber,c.isHeader(n))i.type=t.tokens.header,i.indentation=0,i.content=RegExp.$2,i.level=RegExp.$1.length;else if(c.isPreformatted(n))i.type=t.tokens.preformatted,i.indentation=RegExp.$1.length,i.content=RegExp.$2;else if(c.isUnorderedListElement(n))i.type=t.tokens.unorderedListElement,i.indentation=RegExp.$1.length,i.content=RegExp.$2;else if(c.isOrderedListElement(n))i.type=t.tokens.orderedListElement,i.indentation=RegExp.$1.length,i.content=RegExp.$3,i.number=RegExp.$2;else if(c.isTableSeparator(n))i.type=t.tokens.tableSeparator,i.indentation=RegExp.$1.length,i.content=RegExp.$2;else if(c.isTableRow(n))i.type=t.tokens.tableRow,i.indentation=RegExp.$1.length,i.content=RegExp.$2;else if(c.isBlank(n))i.type=t.tokens.blank,i.indentation=0,i.content=null;else if(c.isHorizontalRule(n))i.type=t.tokens.horizontalRule,i.indentation=RegExp.$1.length,i.content=null;else if(c.isDirective(n)){i.type=t.tokens.directive,i.indentation=RegExp.$1.length,i.content=RegExp.$3;var r=RegExp.$2;/^begin/i.test(r)?i.beginDirective=!0:/^end/i.test(r)?i.endDirective=!0:i.oneshotDirective=!0}else if(c.isComment(n))i.type=t.tokens.comment,i.indentation=RegExp.$1.length,i.content=RegExp.$2;else{if(!c.isLine(n))throw new Error("SyntaxError: Unknown line: "+n);i.type=t.tokens.line,i.indentation=RegExp.$1.length,i.content=RegExp.$2}return i},pushToken:function(e){this.tokenStack.push(e)},pushDummyTokenByType:function(t){var n=new e;n.type=t,this.tokenStack.push(n)},peekStackedToken:function(){return this.tokenStack.length>0?this.tokenStack[this.tokenStack.length-1]:null},getStackedToken:function(){return this.tokenStack.length>0?this.tokenStack.pop():null},peekNextToken:function(){return this.peekStackedToken()||this.tokenize(this.stream.peekNextLine())},getNextToken:function(){return this.getStackedToken()||this.tokenize(this.stream.getNextLine())},hasNext:function(){return this.stream.hasNext()},getLineNumber:function(){return this.stream.lineNumber}},t.tokens={},["header","orderedListElement","unorderedListElement","tableRow","tableSeparator","preformatted","line","horizontalRule","blank","directive","comment"].forEach(function(e,n){t.tokens[e]=n}),"undefined"!=typeof l&&(l.Lexer=t),n.prototype={previousSibling:null,parent:null,get firstChild(){return this.children.length<1?null:this.children[0]},get lastChild(){return this.children.length<1?null:this.children[this.children.length-1]},appendChild:function(e){var t=this.children.length<1?null:this.lastChild;this.children.push(e),e.previousSibling=t,e.parent=this},toString:function(){var e="<"+this.type+">";return"undefined"!=typeof this.value?e+=" "+this.value:this.children&&(e+="\n"+this.children.map(function(e,t){return"#"+t+" "+e.toString()}).join("\n").split("\n").map(function(e){return"  "+e}).join("\n")),e}};var h={types:{},define:function(e,t){this.types[e]=e;var i="create"+e.substring(0,1).toUpperCase()+e.substring(1),r="function"==typeof t;this[i]=function(i,s){var o=new n(e,i);return r&&t(o,s||{}),o}}};return h.define("text",function(e,t){e.value=t.value}),h.define("header",function(e,t){e.level=t.level}),h.define("orderedList"),h.define("unorderedList"),h.define("definitionList"),h.define("listElement"),h.define("paragraph"),h.define("preformatted"),h.define("table"),h.define("tableRow"),h.define("tableCell"),h.define("horizontalRule"),h.define("directive"),h.define("inlineContainer"),h.define("bold"),h.define("italic"),h.define("underline"),h.define("code"),h.define("verbatim"),h.define("dashed"),h.define("link",function(e,t){e.src=t.src}),"undefined"!=typeof l&&(l.Node=h),i.prototype.peekNextLine=function(){return this.hasNext()?this.sequences[this.lineNumber]:null},i.prototype.getNextLine=function(){return this.hasNext()?this.sequences[this.lineNumber++]:null},i.prototype.hasNext=function(){return this.lineNumber<this.totalLines},"undefined"!=typeof l&&(l.Stream=i),r.parseStream=function(e,t){var n=new r;return n.initStatus(e,t),n.parseNodes(),n.nodes},r.prototype={initStatus:function(e,n){if("string"==typeof e&&(e=new i(e)),this.lexer=new t(e),this.nodes=[],this.options={toc:!0,num:!0,"^":"{}",multilineCell:!1},n&&"object"==typeof n)for(var r in n)this.options[r]=n[r];this.document={options:this.options,directiveValues:{},convert:function(e,t){var n=new e(this,t);return n.result}}},parse:function(e,t){return this.initStatus(e,t),this.parseDocument(),this.document.nodes=this.nodes,this.document},createErrorReport:function(e){return new Error(e+" at line "+this.lexer.getLineNumber())},skipBlank:function(){for(var e=null;this.lexer.peekNextToken().type===t.tokens.blank;)e=this.lexer.getNextToken();return e},setNodeOriginFromToken:function(e,t){return e.fromLineNumber=t.fromLineNumber,e},appendNode:function(e){var t=this.nodes.length>0?this.nodes[this.nodes.length-1]:null;this.nodes.push(e),e.previousSibling=t},parseDocument:function(){this.parseTitle(),this.parseNodes()},parseNodes:function(){for(;this.lexer.hasNext();){var e=this.parseElement();e&&this.appendNode(e)}},parseTitle:function(){this.skipBlank(),this.lexer.hasNext()&&this.lexer.peekNextToken().type===t.tokens.line?this.document.title=this.createTextNode(this.lexer.getNextToken().content):this.document.title=null,this.lexer.pushDummyTokenByType(t.tokens.blank)},parseElement:function(){var e=null;switch(this.lexer.peekNextToken().type){case t.tokens.header:e=this.parseHeader();break;case t.tokens.preformatted:e=this.parsePreformatted();break;case t.tokens.orderedListElement:case t.tokens.unorderedListElement:e=this.parseList();break;case t.tokens.line:e=this.parseText();break;case t.tokens.tableRow:case t.tokens.tableSeparator:e=this.parseTable();break;case t.tokens.blank:this.skipBlank(),this.lexer.hasNext()&&(e=this.lexer.peekNextToken().type===t.tokens.line?this.parseParagraph():this.parseElement());break;case t.tokens.horizontalRule:this.lexer.getNextToken(),e=h.createHorizontalRule();break;case t.tokens.directive:e=this.parseDirective();break;case t.tokens.comment:this.lexer.getNextToken();break;default:throw this.createErrorReport("Unhandled token: "+this.lexer.peekNextToken().type)}return e},parseElementBesidesDirectiveEnd:function(){try{return this.parseElement=this.parseElementBesidesDirectiveEndBody,this.parseElement()}finally{this.parseElement=this.originalParseElement}},parseElementBesidesDirectiveEndBody:function(){return this.lexer.peekNextToken().type===t.tokens.directive&&this.lexer.peekNextToken().endDirective?null:this.originalParseElement()},parseHeader:function(){var e=this.lexer.getNextToken(),t=h.createHeader([this.createTextNode(e.content)],{level:e.level});return this.setNodeOriginFromToken(t,e),t},parsePreformatted:function(){var e=this.lexer.peekNextToken(),n=h.createPreformatted([]);this.setNodeOriginFromToken(n,e);for(var i=[];this.lexer.hasNext();){var r=this.lexer.peekNextToken();if(r.type!==t.tokens.preformatted||r.indentation<e.indentation)break;this.lexer.getNextToken(),i.push(r.content)}return n.appendChild(this.createTextNode(i.join("\n"),!0)),n},definitionPattern:/^(.*?) :: *(.*)$/,parseList:function(){var e,n=this.lexer.peekNextToken(),i=!1;for(this.definitionPattern.test(n.content)?(e=h.createDefinitionList([]),i=!0):e=n.type===t.tokens.unorderedListElement?h.createUnorderedList([]):h.createOrderedList([]),this.setNodeOriginFromToken(e,n);this.lexer.hasNext();){var r=this.lexer.peekNextToken();if(!r.isListElement()||r.indentation!==n.indentation)break;e.appendChild(this.parseListElement(n.indentation,i))}return e},unknownDefinitionTerm:"???",parseListElement:function(e,t){var n=this.lexer.getNextToken(),i=h.createListElement([]);if(this.setNodeOriginFromToken(i,n),i.isDefinitionList=t,t){var r=this.definitionPattern.exec(n.content);i.term=[this.createTextNode(r&&r[1]?r[1]:this.unknownDefinitionTerm)],i.appendChild(this.createTextNode(r?r[2]:n.content))}else i.appendChild(this.createTextNode(n.content));for(;this.lexer.hasNext();){var s=this.skipBlank();if(!this.lexer.hasNext())break;var o=this.lexer.peekNextToken();if(s&&!o.isListElement()&&this.lexer.pushToken(s),o.indentation<=e)break;var a=this.parseElement();a&&i.appendChild(a)}return i},parseTable:function(){var e=this.lexer.peekNextToken(),n=h.createTable([]);this.setNodeOriginFromToken(n,e);for(var i=!1,r=e.type===t.tokens.tableSeparator&&this.options.multilineCell;this.lexer.hasNext()&&(e=this.lexer.peekNextToken()).isTableElement();)if(e.type===t.tokens.tableRow){var s=this.parseTableRow(r);n.appendChild(s)}else i=!0,this.lexer.getNextToken();return i&&n.children.length&&n.children[0].children.forEach(function(e){e.isHeader=!0}),n},parseTableRow:function(e){for(var n=[];this.lexer.peekNextToken().type===t.tokens.tableRow&&(n.push(this.lexer.getNextToken()),e););if(!n.length)throw this.createErrorReport("Expected table row");var i=n.shift(),s=i.content.split("|");n.forEach(function(e){e.content.split("|").forEach(function(e,t){s[t]=(s[t]||"")+"\n"+e})});var o=s.map(function(e){return h.createTableCell(r.parseStream(e))},this);return this.setNodeOriginFromToken(h.createTableRow(o),i)},parseDirective:function(){var e=this.lexer.getNextToken(),t=this.createDirectiveNodeFromToken(e);if(e.endDirective)throw this.createErrorReport("Unmatched 'end' directive for "+t.directiveName);if(e.oneshotDirective)return this.interpretDirective(t),t;if(!e.beginDirective)throw this.createErrorReport("Invalid directive "+t.directiveName);return t.children=[],this.isVerbatimDirective(t)?this.parseDirectiveBlockVerbatim(t):this.parseDirectiveBlock(t)},createDirectiveNodeFromToken:function(e){var t=/^[ ]*([^ ]*)[ ]*(.*)[ ]*$/.exec(e.content),n=h.createDirective(null);return this.setNodeOriginFromToken(n,e),n.directiveName=t[1].toLowerCase(),n.directiveArguments=this.parseDirectiveArguments(t[2]),n.directiveOptions=this.parseDirectiveOptions(t[2]),n.directiveRawValue=t[2],n},isVerbatimDirective:function(e){var t=e.directiveName;return"src"===t||"example"===t||"html"===t},parseDirectiveBlock:function(e,n){for(this.lexer.pushDummyTokenByType(t.tokens.blank);this.lexer.hasNext();){var i=this.lexer.peekNextToken();if(i.type===t.tokens.directive&&i.endDirective&&this.createDirectiveNodeFromToken(i).directiveName===e.directiveName)return this.lexer.getNextToken(),e;var r=this.parseElementBesidesDirectiveEnd();r&&e.appendChild(r)}throw this.createErrorReport("Unclosed directive "+e.directiveName)},parseDirectiveBlockVerbatim:function(e){for(var n=[];this.lexer.hasNext();){var i=this.lexer.peekNextToken();if(i.type===t.tokens.directive&&i.endDirective&&this.createDirectiveNodeFromToken(i).directiveName===e.directiveName)return this.lexer.getNextToken(),e.appendChild(this.createTextNode(n.join("\n"),!0)),e;n.push(this.lexer.stream.getNextLine())}throw this.createErrorReport("Unclosed directive "+e.directiveName)},parseDirectiveArguments:function(e){return e.split(/[ ]+/).filter(function(e){return e.length&&"-"!==e[0]})},parseDirectiveOptions:function(e){return e.split(/[ ]+/).filter(function(e){return e.length&&"-"===e[0]})},interpretDirective:function(e){switch(e.directiveName){case"options:":this.interpretOptionDirective(e);break;case"title:":this.document.title=e.directiveRawValue;break;case"author:":this.document.author=e.directiveRawValue;break;case"email:":this.document.email=e.directiveRawValue;break;default:this.document.directiveValues[e.directiveName]=e.directiveRawValue}},interpretOptionDirective:function(e){e.directiveArguments.forEach(function(e){var t=e.split(":");this.options[t[0]]=this.convertLispyValue(t[1])},this)},convertLispyValue:function(e){switch(e){case"t":return!0;case"nil":return!1;default:return/^[0-9]+$/.test(e)?parseInt(e):e}},parseParagraph:function(){var e=this.lexer.peekNextToken(),n=h.createParagraph([]);this.setNodeOriginFromToken(n,e);for(var i=[];this.lexer.hasNext();){var r=this.lexer.peekNextToken();if(r.type!==t.tokens.line||r.indentation<e.indentation)break;this.lexer.getNextToken(),i.push(r.content)}return n.appendChild(this.createTextNode(i.join("\n"))),n},parseText:function(e){var t=this.lexer.getNextToken();return this.createTextNode(t.content,e)},createTextNode:function(e,t){return t?h.createText(null,{value:e}):this.inlineParser.parseEmphasis(e)}},r.prototype.originalParseElement=r.prototype.parseElement,s.prototype={parseEmphasis:function(e){var t=this.emphasisPattern;t.lastIndex=0;for(var n,i,r=[],s=0;n=t.exec(e);){var o=n[0],a=n[1],l=n[2],c=n[3],u=n[4],p=t.lastIndex-o.length,d=e.substring(s,p+a.length);i=t.lastIndex,r.push(this.parseLink(d)),t.lastIndex=i;var f=[h.createText(null,{value:c})],v=this.emphasizeElementByMarker(f,l);r.push(v),s=t.lastIndex-u.length}return 0!==t.lastIndex&&t.lastIndex===e.length-1||r.push(this.parseLink(e.substring(s))),1===r.length?r[0]:h.createInlineContainer(r)},depth:0,parseLink:function(e){var t=this.linkPattern;t.lastIndex=0;for(var n,i,r=[],s=0;n=t.exec(e);){var o=n[0],a=n[1],l=n[2],c=t.lastIndex-o.length,u=e.substring(s,c);r.push(h.createText(null,{value:u}));var p=h.createLink([]);p.src=a,l?(i=t.lastIndex,p.appendChild(this.parseEmphasis(l)),t.lastIndex=i):p.appendChild(h.createText(null,{value:a})),r.push(p),s=t.lastIndex}return 0!==t.lastIndex&&t.lastIndex===e.length-1||r.push(h.createText(null,{value:e.substring(s)})),h.createInlineContainer(r)},emphasizeElementByMarker:function(e,t){switch(t){case"*":return h.createBold(e);case"/":return h.createItalic(e);case"_":return h.createUnderline(e);case"=":case"~":return h.createCode(e);case"+":return h.createDashed(e)}},buildEmphasisPattern:function(){return new RegExp("(["+this.preEmphasis+"]|^|\r?\n)(["+this.markers+"])([^"+this.borderForbidden+"]|[^"+this.borderForbidden+"]"+this.bodyRegexp+"[^"+this.borderForbidden+"])\\2(["+this.postEmphasis+"]|$|\r?\n)","g")}},"undefined"!=typeof l&&(l.Parser=r,l.InlineParser=s),o.prototype={exportOptions:{headerOffset:1,exportFromLineNumber:!1,suppressSubScriptHandling:!1,suppressAutoLink:!1,translateSymbolArrow:!1,suppressCheckboxHandling:!1,customDirectiveHandler:null,htmlClassPrefix:null,htmlIdPrefix:null},untitled:"Untitled",result:null,initialize:function(e,t){this.orgDocument=e,this.documentOptions=e.options||{},this.exportOptions=t||{},this.headers=[],this.headerOffset="number"==typeof this.exportOptions.headerOffset?this.exportOptions.headerOffset:1,this.sectionNumbers=[0]},createTocItem:function(e,t){var n=[];n.parent=t;var i={headerNode:e,childTocs:n};return i},computeToc:function(e){"number"!=typeof e&&(e=1/0);var t=[];t.parent=null;for(var n=1,i=t,r=0;r<this.headers.length;++r){var s=this.headers[r];if(!(s.level>e)){var o=s.level-n;if(o>0)for(var a=0;o>a;++a){if(0===i.length){var l=h.createHeader([],{level:n+a});l.sectionNumberText="",i.push(this.createTocItem(l,i))}i=i[i.length-1].childTocs}else if(0>o){o=-o;for(var c=0;o>c;++c)i=i.parent}i.push(this.createTocItem(s,i)),n=s.level}}return t},convertNode:function(e,t,n){n||(e.type===h.types.directive?"example"!==e.directiveName&&"src"!==e.directiveName||(n=!0):e.type===h.types.preformatted&&(n=!0)),"string"==typeof e&&(e=h.createText(null,{value:e}));var i,r=e.children?this.convertNodesInternal(e.children,t,n):"",s=this.computeAuxDataForNode(e);switch(e.type){case h.types.header:var o=null;0===r.indexOf("TODO ")?o="todo":0===r.indexOf("DONE ")&&(o="done");var a=null;if(t){var l=e.level,c=this.sectionNumbers.length;if(l>c)for(var u=l-c,p=0;u>p;++p)this.sectionNumbers[l-1-p]=0;else c>l&&(this.sectionNumbers.length=l);this.sectionNumbers[l-1]++,a=this.sectionNumbers.join("."),e.sectionNumberText=a}i=this.convertHeader(e,r,s,o,a),t&&this.headers.push(e);break;case h.types.orderedList:i=this.convertOrderedList(e,r,s);break;case h.types.unorderedList:i=this.convertUnorderedList(e,r,s);break;case h.types.definitionList:i=this.convertDefinitionList(e,r,s);break;case h.types.listElement:if(e.isDefinitionList){var d=this.convertNodesInternal(e.term,t,n);i=this.convertDefinitionItem(e,r,s,d,r)}else i=this.convertListItem(e,r,s);break;case h.types.paragraph:i=this.convertParagraph(e,r,s);break;case h.types.preformatted:i=this.convertPreformatted(e,r,s);break;case h.types.table:i=this.convertTable(e,r,s);break;case h.types.tableRow:i=this.convertTableRow(e,r,s);break;case h.types.tableCell:i=e.isHeader?this.convertTableHeader(e,r,s):this.convertTableCell(e,r,s);break;case h.types.horizontalRule:i=this.convertHorizontalRule(e,r,s);break;case h.types.inlineContainer:i=this.convertInlineContainer(e,r,s);break;case h.types.bold:i=this.convertBold(e,r,s);break;case h.types.italic:i=this.convertItalic(e,r,s);break;case h.types.underline:i=this.convertUnderline(e,r,s);break;case h.types.code:i=this.convertCode(e,r,s);break;case h.types.dashed:i=this.convertDashed(e,r,s);break;case h.types.link:i=this.convertLink(e,r,s);break;case h.types.directive:switch(e.directiveName){case"quote":i=this.convertQuote(e,r,s);break;case"example":i=this.convertExample(e,r,s);break;case"src":i=this.convertSrc(e,r,s);break;case"html":case"html:":i=this.convertHTML(e,r,s);break;default:i=this.exportOptions.customDirectiveHandler&&this.exportOptions.customDirectiveHandler[e.directiveName]?this.exportOptions.customDirectiveHandler[e.directiveName](e,r,s):r}break;case h.types.text:i=this.convertText(e.value,n);break;default:throw Error("Unknown node type: "+e.type)}return"function"==typeof this.postProcess&&(i=this.postProcess(e,i,n)),i},convertText:function(e,t){var n=this.escapeSpecialChars(e,t);return this.exportOptions.suppressSubScriptHandling||t||(n=this.makeSubscripts(n,t)),this.exportOptions.suppressAutoLink||(n=this.linkURL(n)),n},convertHTML:function(e,t,n){return t},convertNodesInternal:function(e,t,n){for(var i=[],r=0;r<e.length;++r){var s=e[r],o=this.convertNode(s,t,n);i.push(o)}return this.combineNodesTexts(i)},convertHeaderBlock:function(e,t){throw Error("convertHeaderBlock is not implemented")},convertHeaderTree:function(e,t){return this.convertHeaderBlock(e,t)},convertNodesToHeaderTree:function(e,t,n){var i=[],r=[];"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=null);for(var s=t;s<e.length;){var o=e[s],a=o.type===h.types.header;if(a){if(n&&o.level<=n.level)break;var l=this.convertNodesToHeaderTree(e,s+1,o);i.push(l),s=l.nextIndex}else r.push(o),s+=1}return{header:n,childNodes:r,nextIndex:s,childBlocks:i}},convertNodes:function(e,t,n){return this.convertNodesInternal(e,t,n)},combineNodesTexts:function(e){return e.join("")},getNodeTextContent:function(e){return e.type===h.types.text?this.escapeSpecialChars(e.value):e.children?e.children.map(this.getNodeTextContent,this).join(""):""},escapeSpecialChars:function(e){throw Error("Implement escapeSpecialChars")},urlPattern:/\b(?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’])/gi,linkURL:function(e){var t=this;return e.replace(this.urlPattern,function(e){return e.indexOf("://")<0&&(e="http://"+e),t.makeLink(e)})},makeLink:function(e){throw Error("Implement makeLink")},makeSubscripts:function(e){return"{}"===this.documentOptions["^"]?e.replace(/\b([^_ \t]*)_{([^}]*)}/g,this.makeSubscript):this.documentOptions["^"]?e.replace(/\b([^_ \t]*)_([^_]*)\b/g,this.makeSubscript):e},makeSubscript:function(e,t,n){throw Error("Implement makeSubscript")},stripParametersFromURL:function(e){return e.replace(/\?.*$/,"")},imageExtensionPattern:new RegExp("("+["bmp","png","jpeg","jpg","gif","tiff","tif","xbm","xpm","pbm","pgm","ppm","svg"].join("|")+")$","i")},"undefined"!=typeof l&&(l.Converter=o),a.prototype={__proto__:o.prototype,convert:function(){var e=this.orgDocument.title?this.convertNode(this.orgDocument.title):this.untitled,t=this.tag("h"+Math.max(Number(this.headerOffset),1),e),n=this.convertNodes(this.orgDocument.nodes,!0),i=this.computeToc(this.documentOptions.toc),r=this.tocToHTML(i);return{title:e,titleHTML:t,contentHTML:n,tocHTML:r,toc:i,toString:function(){return t+r+"\n"+n}}},tocToHTML:function(e){function t(e){for(var n="",i=0;i<e.length;++i){var r=e[i],s=r.headerNode.sectionNumberText,o=this.documentOptions.num?this.inlineTag("span",s,{"class":"section-number"}):"",a=this.getNodeTextContent(r.headerNode),l=this.inlineTag("a",o+a,{href:"#header-"+s.replace(/\./g,"-")}),c=r.childTocs.length?t.call(this,r.childTocs):"";n+=this.tag("li",l+c)}return this.tag("ul",n)}return t.call(this,e)},computeAuxDataForNode:function(e){for(;e.parent&&e.parent.type===h.types.inlineContainer;)e=e.parent;for(var t=e.previousSibling,n="";t&&t.type===h.types.directive&&"attr_html:"===t.directiveName;)n+=t.directiveRawValue+" ",t=t.previousSibling;return n},orgClassName:function(e){return this.exportOptions.htmlClassPrefix?this.exportOptions.htmlClassPrefix+e:e},orgId:function(e){return this.exportOptions.htmlIdPrefix?this.exportOptions.htmlIdPrefix+e:e},convertHeader:function(e,t,n,i,r){var s={};return i&&(t=this.inlineTag("span",t.substring(0,4),{"class":"task-status "+i})+t.substring(5)),r&&(t=this.inlineTag("span",r,{"class":"section-number"})+t,s.id="header-"+r.replace(/\./g,"-")),i&&(s["class"]="task-status "+i),this.tag("h"+(this.headerOffset+e.level),t,s,n)},convertOrderedList:function(e,t,n){return this.tag("ol",t,null,n)},convertUnorderedList:function(e,t,n){return this.tag("ul",t,null,n)},convertDefinitionList:function(e,t,n){return this.tag("dl",t,null,n)},convertDefinitionItem:function(e,t,n,i,r){return this.tag("dt",i)+this.tag("dd",r)},convertListItem:function(e,t,n){if(this.exportOptions.suppressCheckboxHandling)return this.tag("li",t,null,n);var i={},r=t;if(/^\s*\[(X| |-)\]([\s\S]*)/.exec(r)){r=RegExp.$2;var s=RegExp.$1,o={type:"checkbox"};switch(s){case"X":o.checked="true",i["data-checkbox-status"]="done";break;case"-":i["data-checkbox-status"]="intermediate";break;default:i["data-checkbox-status"]="undone"}r=this.inlineTag("input",null,o)+r}return this.tag("li",r,i,n)},convertParagraph:function(e,t,n){return this.tag("p",t,null,n)},convertPreformatted:function(e,t,n){return this.tag("pre",t,null,n)},convertTable:function(e,t,n){return this.tag("table",this.tag("tbody",t),null,n)},convertTableRow:function(e,t,n){return this.tag("tr",t)},convertTableHeader:function(e,t,n){return this.tag("th",t)},convertTableCell:function(e,t,n){return this.tag("td",t)},convertHorizontalRule:function(e,t,n){return this.tag("hr",null,null,n)},convertInlineContainer:function(e,t,n){return t},convertBold:function(e,t,n){return this.inlineTag("b",t)},convertItalic:function(e,t,n){return this.inlineTag("i",t)},convertUnderline:function(e,t,n){return this.inlineTag("span",t,{style:"text-decoration:underline;"})},convertCode:function(e,t,n){return this.inlineTag("code",t)},convertDashed:function(e,t,n){return this.inlineTag("del",t)},convertLink:function(e,t,n){var i=this.stripParametersFromURL(e.src);if(this.imageExtensionPattern.exec(i)){var r=this.getNodeTextContent(e);return this.inlineTag("img",null,{src:e.src,alt:r,title:r},n)}return this.inlineTag("a",t,{href:e.src})},convertQuote:function(e,t,n){return this.tag("blockquote",t,null,n)},convertExample:function(e,t,n){return this.tag("pre",t,null,n)},convertSrc:function(e,t,n){var i=e.directiveArguments.length?e.directiveArguments[0]:"unknown";return t=this.tag("code",t,{"class":"language-"+i},n),this.tag("pre",t,{"class":"prettyprint"})},convertHTML:function(e,t,n){return"html:"===e.directiveName?e.directiveRawValue:"html"===e.directiveName?e.children.map(function(e){return e.value}).join("\n"):t},convertHeaderBlock:function(e,t,n){t=t||0,n=n||0;var i=[],r=e.header;r&&i.push(this.convertNode(r));var s=this.convertNodes(e.childNodes);i.push(s);var o=e.childBlocks.map(function(e,n){return this.convertHeaderBlock(e,t+1,n)},this).join("\n");i.push(o);var a=i.join("\n");return r?this.tag("section","\n"+i.join("\n"),{"class":"block block-level-"+t}):a},replaceMap:{"&":["&#38;",null],"<":["&#60;",null],">":["&#62;",null],'"':["&#34;",null],"'":["&#39;",null],"->":["&#10132;",function(e,t){return this.exportOptions.translateSymbolArrow&&!t}]},replaceRegexp:null,escapeSpecialChars:function(e,t){this.replaceRegexp||(this.replaceRegexp=new RegExp(Object.keys(this.replaceMap).join("|"),"g"));var n=this.replaceMap,i=this;return e.replace(this.replaceRegexp,function(r){if(!n[r])throw Error("escapeSpecialChars: Invalid match");var s=n[r][1];return"function"!=typeof s||s.call(i,e,t)?n[r][0]:r})},postProcess:function(e,t,n){return this.exportOptions.exportFromLineNumber&&"number"==typeof e.fromLineNumber&&(t=this.inlineTag("div",t,{"data-line-number":e.fromLineNumber})),t},makeLink:function(e){return'<a href="'+e+'">'+decodeURIComponent(e)+"</a>"},makeSubscript:function(e,t,n){return'<span class="org-subscript-parent">'+t+'</span><span class="org-subscript-child">'+n+"</span>"},attributesObjectToString:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];"class"===n?i=this.orgClassName(i):"id"===n&&(i=this.orgId(i)),t+=" "+n+'="'+i+'"'}return t},inlineTag:function(e,t,n,i){n=n||{};var r="<"+e;return i&&(r+=" "+i),r+=this.attributesObjectToString(n),null===t?r+"/>":r+=">"+t+"</"+e+">"},tag:function(e,t,n,i){return this.inlineTag(e,t,n,i)+"\n"}},"undefined"!=typeof l&&(l.ConverterHTML=a),l}();
